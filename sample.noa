// letiables
let a = 10; // Number
let b = 10.20; // Floating Point Number
let c = "Hello world"; // String
let d = true; // Boolean
let e = nil; // Nil
let a = {
    "name": "Siddharth",
    "properties": {
        "age": 22,
        "job": "Developer",        
    },
}; // Table

// Arithmentic operators
a = 10 + 20;
a = 10 - 20;
a = 10 / 20;
a = 10 * 20;

// String concat
b = "Hello " + "World"; b = 10 + "Hello";

// Ternary operator
a = 10 > 20 ? "10 is bigger than 20" : "10 is not bigger than 20";

// Comparison operators
println(10 > 10 == 10 > 10 != "A" <= "B");

// Negation operators
println(-10);
println(!false);

// Blocks
{
    let a = 20;
    println(a);

    {
        let c = 30;
        println(c);
    }
}

// If statemnts
if (true) {
    println("yes");
} else {
    println("no");
}

// Logical operators
if (true and true or false) {
    println("what");
}

// More use case of logical operators
println(false or "Hello"); // Returns the truthy operand
println(true and "Hello"); // Returns the right operand if both operands are truthy

// Loops
{
    let i = 0;
    while (i < 10) {
        println(i);
        i = i + 1;
    }
}

for (let i = 0; i < 10 ; i = i + 1) {
    println(i);
}

// fnctions
println("println fnction");

fn test(a,b,c) {
    println(a);
    println(b);
}

test(1, 2, a); // Number of parameters must match

// Recursion is also supported
fn rec() {
    // rec();
    return "this will appear";
    println("this will not appear");
}
println(rec());


fn closure() {
    let count = 0;

    fn counter() {
        count = count +1;
        return count;

    }
    return counter;
}

let counter = closure();

println(counter()); // 1
println(counter()); // 2
println(counter()); // 3

// Tables

let a = {
    "name": "Siddharth",
    "properties": {
        "age": 22,
        "job": "Developer",        
    },
};
println(a);

// Key access
println(a["name"]);
a["name"] = "Roy";
println(a["name"]);


// Create OOP like objects
fn create_actor() {
    let a = {
        "health": 100,
    };

    fn take_damage(amount) {
        a["health"] = a["health"] - amount;
    }

    a["take_damage"] = take_damage;

    return a;
}

let actor1 = create_actor();
println(actor1);
actor1["take_damage"](10);
println(actor1);
println(create_actor()["health"]);

// Standard library

// IO
print("Without newline");
println("With new line");
let inp = input();
print(inp);

// String
println(str({"Hello": "world",})); // Convert anything to string

// Generic
println(len("Hello world"));
println(len({"1": 1, "2": 2, "3": 3,}));